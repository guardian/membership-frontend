@(
    pageInfo: model.PageInfo,
    pageImages: Seq[model.ResponsiveImageGroup],
    comparisonItems: Seq[model.Benefits.ComparisonItem]
)

@import com.gu.membership.salesforce.Tier
@import views.support.NavAnchor
@import views.support.Asset

@main("Join", pageInfo) {

    @* ===== Intro ===== *@
    <div class="hero-banner" style="background-image: url(@Asset.at("images/join-challenger/event-grid.jpg"))">
        <div class="hero-banner__inner">
            <div class="l-constrained">
                <div class="hero-banner__content">
                    <h1 class="hero-banner__title">Become a Guardian&nbsp;Member</h1>
                    <p class="hero-banner__description">
                        Support open, independent journalism and experience the Guardian brought to life
                    </p>
                    <div class="hero-banner__action">
                        @fragments.common.jumpLink("Learn more", "#what-are-members", isReversed=true)
                    </div>
                </div>
            </div>
        </div>
    </div>

    @* ===== What are members ===== *@
    <section class="page-slice page-slice--listing u-sticky-offset" id="what-are-members">

        @* ===== Section Navigation ===== *@
        @fragments.page.navSections(Seq(
            NavAnchor("#what-are-members", "What is membership"),
            NavAnchor("#why-join", "Why join"),
            NavAnchor("#become-a-member", "Become a member")
        ))

        <div class="listing listing--padded l-constrained" id="what-are-members">
            <div class="listing__lead-in">
                <h3 class="h-intro h-intro--capitalize">What is membership</h3>
            </div>
            <div class="listing__content">
                <p class="text-section-intro u-capped-two-thirds">
                    Members keep Guardian journalism free and fearless. As a member, you’ll get closer to everything we do.
                    We’ll draw back the curtain on the workings of the world and you’ll meet some of the world’s most admired thinkers,
                    with a range of live events, local meetups and exclusive content.
                </p>
                @fragments.media.videoPreview(
                    configuration.Videos.whatIsMembershipAlt,
                    "Alan Rusbridger, Polly Toynbee, Jonathan Freedland, Owen Jones and Zoe Williams introduce Guardian Membership."
                )
                @fragments.common.jumpLink("Benefits of membership", "#why-join")
            </div>
        </div>
    </section>


    @* ===== Why join ===== *@
    <section class="page-slice page-slice--listing u-padding-top" id="why-join">
        <div class="listing listing--padded l-constrained">
            <div class="listing__lead-in">
                <h3 class="h-intro h-intro--capitalize">Why join</h3>
            </div>
            <div class="listing__content">
                <p class="text-section-intro u-capped-two-thirds">
                    Support fearless journalism and get to the heart of the story.
                </p>
                <ul class="grid grid--3up-stacked grid--single-row">
                    <li class="grid__item">
                    @fragments.promos.panel("Support the Guardian", pageImages.find(_.name.contains("support"))) {
                        <p>
                            For 200 years, the Guardian has evolved to respond to changing times
                            without compromising the quality of our journalism.
                            Our website is open and free. By becoming a member, you’ll ensure the whole picture
                            remains available to everyone.
                        </p>
                    }
                    </li>
                    <li class="grid__item">
                    @fragments.promos.panel("Experience the Guardian", pageImages.find(_.name.contains("experience"))) {
                        <p>
                            Unedited, unfiltered, uncensored: experience the Guardian for yourself at events, meetups and classes.
                            Stretch your mind, learn new skills, and make genuine connections with guest speakers, journalists,
                            and the growing community of Guardian members.
                        </p>
                    }
                    </li>
                    <li class="grid__item">
                    @fragments.promos.panel("Exclusive content", pageImages.find(_.name.contains("exclusive"))) {
                        <p>
                            From live streams of Members’ events, member articles in our monthly Guardian supplement, to a range
                            of offers, competitions and discounts at places we love there’s something for you in Guardian Membership.
                        </p>
                    }
                    </li>
                </ul>

                @fragments.common.jumpLink("Get involved", "#experience")

                <div class="text-section-intro" id="experience">
                    <p>Experience the Guardian up close. First hand.</p>
                </div>

                <ul class="grid grid--3up-stacked grid--single-row">
                    <li class="grid__item">
                    @fragments.promos.brandPanel(
                        "Guardian Live",
                        pageImages.find(_.name.contains("brand-live")),
                        routes.Event.list.toString,
                        "All upcoming events",
                        "guardian-live"
                    ) {
                        Russell Brand, Vivienne Westwood, Jimmy Page, Naomi Klein.
                        NHS, terrorism, Europe, climate change; all in conversation with our journalists.
                        Guardian Live brings the Guardian to life with discussions, debates,
                        interviews and keynote speeches exclusively for Guardian Members.
                    }
                    </li>
                    <li class="grid__item">
                    @fragments.promos.brandPanel(
                        "Guardian Local",
                        pageImages.find(_.name.contains("brand-local")),
                        routes.Event.list.toString,
                        "All upcoming events",
                        "local"
                    ) {
                        Tasting menus, jazz collectives, world-renowned orchestra&hellip; Guardian Local celebrates the arts,
                        food and culture we write about with meetups for Members across the country.
                    }
                    </li>
                    <li class="grid__item">
                    @fragments.promos.brandPanel(
                        "Guardian Masterclasses",
                        pageImages.find(_.name.contains("brand-masterclasses")),
                        routes.Event.masterclasses.toString,
                        "All upcoming Masterclasses",
                        "masterclasses"
                    ) {
                        Social media, writing a novel, starting a business&hellip;take part in our courses and workshops
                        taught by award-winning professionals and enjoy member discounts.
                    }
                    </li>
                </ul>

            </div>
        </div>
    </section>


    @* ===== A home for big ideas ===== *@
    <section class="page-slice page-slice--listing" id="big-ideas">

        <div class="listing listing--basic listing--padded l-constrained">
            <div class="listing__content">
                <ul class="grid grid--2up grid--single-row">
                    <li class="grid__item">
                    @for(img <- pageImages.find(_.name.contains("space"))) {
                        <img src="@img.defaultImage" srcset="@img.srcset" sizes="33vw" alt="@img.altText" class="responsive-img" />
                    }
                    </li>
                    <li class="grid__item">
                        @fragments.promos.venuePanel("A home for big ideas") {
                            <p>
                                In 2016, the Midland Goods Shed at London’s King’s Cross
                                will reopen to create a new kind of civic space.
                            </p>
                            <p>
                                As well as being the home of Guardian Membership, the building will be a hub for
                                big ideas and stimulating conversations. It will host events, activities and
                                courses from Guardian Live and organisations we admire.
                            </p>
                        }
                    </li>
                </ul>
                @fragments.common.jumpLink("Join today", "#become-a-member")
            </div>
        </div>

    </section>


    @* ===== Become a member ===== *@
    <section class="page-slice tone-tint" id="become-a-member">
        <div class="listing listing--transparent listing--padded l-constrained" id="what-are-members">
            <div class="listing__lead-in">
                <h3 class="h-intro h-intro--capitalize">Become a member</h3>
            </div>
            <div class="listing__content">
                <h4 class="text-section-intro u-capped-one-third">
                    Get closer.<br/>
                    Become a Guardian Member.
                </h4>

                @fragments.tier.comparisonTable(comparisonItems)

                <h4 class="text-section-intro">Choose your membership</h4>

                <ul class="grid grid--2up-stacked">
                    <li class="grid__item">
                        @fragments.tier.packagePromo(Tier.Partner, showDescription=false, isReversed=true)
                    </li>
                    <li class="grid__item">
                        @fragments.tier.packagePromo(Tier.Supporter, showDescription=false, isReversed=true)
                    </li>
                </ul>

                <div class="u-capped-half-wide">
                    @fragments.tier.friendTeaser()
                </div>

                @for(image <- pageImages.find(_.name.contains("patrons"))) {
                    @fragments.promos.promoTertiary(
                        "Become a Patron",
                        "Patrons play a vital role to keep the Guardian fearless, progressive and free from interference",
                        "Learn more about Patrons",
                        routes.Info.patron.toString,
                        "qa-learn-patron",
                        image,
                        Some("tone-patron")
                    )
                }
            </div>
        </div>
    </section>

}
