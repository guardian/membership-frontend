@import com.gu.i18n.CountryGroup
@import com.gu.membership.PaidMembershipPlans
@import com.gu.memsub.Current
@import com.gu.salesforce.Tier
@import com.gu.salesforce.Tier.{Supporter, Partner, Patron}
@import views.support.{Asset, PageInfo, PaidPlans}

@(patronPlans: PaidMembershipPlans[Current, Patron],
  supporterPlans: PaidMembershipPlans[Current, Supporter],
  partnerPlans: PaidMembershipPlans[Current, Partner],
  pageInfo: PageInfo,
  countryGroup: CountryGroup,
  pageImages: Seq[model.ResponsiveImageGroup])(implicit token: play.filters.csrf.CSRF.Token)


@main("Patrons", pageInfo=pageInfo) {




    @* ===== About Patronage ===== *@
    @fragments.page.heroBanner("hero-banner--newsroom hero-banner--alt-accent") {
        Patrons of the Guardian
    } {

        <p>The Patron tier is for those who care deeply about the Guardianâ€™s journalism and the impact it has on the world.</p>

        <p>From campaigning on issues affecting the voices less heard to holding those in power to account, Patrons ensure the Guardian can continue to surface the information and ideas that shape the global conversation.</p>
    }()

    @fragments.page.section() {
        @fragments.tier.packagePromoMinimal(patronPlans, countryGroup, showDescription = false, modifierClass = Some("package-promo--spread"))

    }

    @* ===== Ensuring our independence ===== *@
    @fragments.page.section() {

        @for(img <- pageImages.find(_.name.contains("independence"))) {
            @fragments.promos.promoQuote(
                Asset.at("images/common/katharine-viner-cutout.png"),
                "Katharine Viner, editor-in-chief of the Guardian"
            ) {

                <p>The Guardian has no proprietor. Our editor has total independence.</p>
                <p>The support of Patrons helps to ensure that the Guardian can stand witness to the world, without interference.</p>

            }
        }
    }

    @* ===== Backstage Pass ===== *@

    @for(img <- pageImages.find(_.name.contains("backstage-pass"))) {

        @fragments.page.sectionCardStack(img,Some("Backstage pass to the Guardian")) {
            <div class="listing__text">

                <p>In return for your support, Patrons are given a behind-the-scenes view of how the Guardian operates.  For example, tour our newsroom, visit our printing presses or attend a campaign lecture.</p>
                <a class="action"
                    href="@routes.Joiner.enterPaidDetails(Tier.patron)"
                    data-metric-trigger="click"
                    data-metric-category="join"
                    data-metric-action="patron"
                >Become a Patron today</a>
            </div>
        }
    }


    @* ===== Get Involved ===== *@
    @for(img <- pageImages.find(_.name.contains("get-involved"))) {
        <div class="page-slice l-constrained">

            @fragments.page.sectionCardStack(img,Some("Backstage pass to the Guardian")) {
                <div class="listing__text">
                    Patrons are crucial to the future development of Membership, and there will be opportunities to get involved.  From hosting your own events to connecting members to one another, you will shape the future of the community.</p>
                @fragments.tier.packagePromoMinimal(patronPlans, countryGroup)
            }
        </div>
    }

    @* ===== Join Today ===== *@
    <div class="page-slice page-slice--split tone-tint">
        <div class="page-slice__inner l-constrained">
            <h2 class="page-slice__headline">Not ready to become a Patron yet? Join as a Supporter or a Partner</h2>
            <div class="page-slice__content">
                <ul class="grid grid--equal-heights grid--bordered grid--2up-stacked">
                    <li class="grid__item">
                    @fragments.tier.packagePromo(PaidPlans(supporterPlans), countryGroup, isReversed = true)
                    </li>
                    <li class="grid__item">
                    @fragments.tier.packagePromo(PaidPlans(partnerPlans), countryGroup, isReversed = true)
                    </li>
                </ul>
                @fragments.tier.friendTeaser()
            </div>
        </div>
    </div>

}
