@(pageImages: Seq[model.ResponsiveImageGroup], comparisonItems: Seq[model.Benefits.ComparisonItem])(implicit token: play.filters.csrf.CSRF.Token)

@import configuration.Videos
@import com.gu.membership.salesforce.Tier

@comparisonHeader(tier: com.gu.membership.salesforce.Tier) = {
    <div class="comparison-header tone-border-@tier.slug">
        <div class="comparison-header__inner">
            <a class="no-underline minimal-link"
               href="@routes.Joiner.enterDetails(tier)"
               data-metric-trigger="click"
               data-metric-category="join"
               data-metric-action="@tier.toString.toLowerCase()"
            >
                <div class="comparison-header__tier">
                    <div class="comparison-header__tier__title">
                        @fragments.tier.tierTrail(tier, showCaption=false)
                    </div>
                    <div class="comparison-header__tier__pricing">
                        @fragments.pricing.priceInfo(tier, canFlex=false)
                    </div>
                </div>
            </a>
        </div>
    </div>
}

@main("Join") {

    @* ===== Intro ===== *@
    <div class="hero-banner">
        <div class="hero-banner__inner l-constrained">
            <div class="hero-banner__content copy">
                <h1 class="hero-banner__title">Become a Guardian&nbsp;Member</h1>
                <p class="hero-banner__description">
                    Support open, independent journalism and experience the Guardian brought to life
                </p>
                <div class="hero-banner__action">
                    <span class="icon-holder icon-holder--large icon-holder--fill">
                       @fragments.inlineIcon("arrow-down")
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="nav-sections l-side-margins js-sticky" data-gumshoe-header>
        <div class="nav-sections__inner l-constrained">
            <ol class="nav-sections__list" data-gumshoe>
                <li class="nav-sections__item"><a class="nav-sections__link" href="#what-are-members">What are Members?</a></li>
                <li class="nav-sections__item"><a class="nav-sections__link" href="#why-join">Why Join?</a></li>
                <li class="nav-sections__item"><a class="nav-sections__link" href="#become-a-member">Become A Member</a></li>
            </ol>
        </div>
    </div>


    @* ===== What are members ===== *@
    <section class="page-slice section-what" id="what-are-members">
        <div class="listing listing--padded l-constrained" id="what-are-members">
            <div class="listing__lead-in">
                <h3 class="h-intro h-intro--capitalize">What are Members?</h3>
            </div>
            <div class="listing__content">
                <ul class="grid grid--3up">
                    <li class="grid__item">
                        <p class="join-text-intro">
                            Guardian Members are changing the idea of what a news organisation does today.
                        </p>
                    </li>
                    <li class="grid__item">
                        <p class="join-text-intro">
                            Join the influential community of journalists,
                            readers and contributors that is the Guardian,
                            and connect to the conversations that matter.
                        </p>
                    </li>
                </ul>
                @fragments.media.videoPreview(Videos.whatIsMembership, "Alan Rusbridger, Polly Toynbee, Jonathan Freedland, Owen Jones and Zoe Williams introduce Guardian Membership.")
                @fragments.common.jumpLink("Find out more", "#become-a-member")
            </div>
        </div>
    </section>


    @* ===== Why join ===== *@
    <section class="page-slice page-slice--why-join u-padding-top" id="why-join">
        <div class="listing listing--padded l-constrained">
            <div class="listing__lead-in">
                <h3 class="h-intro h-intro--capitalize">Why join</h3>
            </div>
            <div class="listing__content">
                <p class="why-intro">
                    Get closer to the stories that matter and experience the Guardian brought to life
                </p>
                <ul class="grid grid--3up">
                    <li class="grid__item">
                        @fragments.promos.panel("Experience the Guardian", pageImages.find(_.name.contains("experience"))) {
                            <p>We'll introduce you to some of the world's most influential thinkers. Not only our speakers, but the community of members around you.</p>
                        }
                    </li>
                    <li class="grid__item">
                        @fragments.promos.panel("Support the Guardian", pageImages.find(_.name.contains("experience"))) {
                            <p>
                                Our journalism is for everyone. The Guardian is open, without a paywall,
                                and we remain true to our 200-year old progressive values.
                                Become a member to ensure the whole picture is available to everyone.
                            </p>
                        }
                    </li>
                    <li class="grid__item">
                        @fragments.promos.panel("Exclusive content", pageImages.find(_.name.contains("experience"))) {
                            <p>
                                New offers every week plus exclusive competitions you’ll only find on Guardian Membership.
                                <a href="@routes.OffersAndCompetitions.list">Offers and competitions</a>
                            </p>
                        }
                    </li>
                </ul>

                @fragments.common.jumpLink("Find out more", "#become-a-member")

                <div class="join-text-intro join-text-intro--block">
                    <p>Experience the Guardian up close. First hand.</p>
                    <p>Join the influential community of journalists, readers and contributors that is the Guardian, and connect to the conversations that matter.</p>
                </div>

                <ul class="grid grid--3up">
                    <li class="grid__item">
                        <div class="brand-panel tone-border-guardian-live">
                            <h3 class="brand-panel__title">Guardian Live</h3>
                            <div class="brand-panel__description copy">
                                Guardian Live is a programme of discussions, debates, interviews, keynote speeches created by the Guardian exclusively for Guardian members.
                            </div>
                            @for(img <- pageImages.find(_.name.contains("brand-live"))) {
                                <div class="brand-panel__media">
                                    <img src="@img.defaultImage" srcset="@img.srcset" sizes="33vw" alt="@img.altText" class="brand-panel__image responsive-img" />
                                    <a class="mini-link" href="@routes.Event.list">
                                        <span class="icon-holder icon-holder--small icon-holder--fill icon-holder--fill-live">
                                            @fragments.inlineIcon("arrow-right", List("inline-icon--small tone-fill-guardian-live"))
                                        </span>
                                        All upcoming Live events
                                    </a>
                                </div>
                            }
                        </div>
                    </li>
                    <li class="grid__item">
                        <div class="brand-panel tone-border-local">
                            <h3 class="brand-panel__title">Guardian Local</h3>
                            <div class="brand-panel__description copy">
                                Guardian local is a programme of specifically selected arts, food and culture events from around the UK
                            </div>
                            @for(img <- pageImages.find(_.name.contains("brand-live"))) {
                                <div class="brand-panel__media">
                                    <img src="@img.defaultImage" srcset="@img.srcset" sizes="33vw" alt="@img.altText" class="brand-panel__image responsive-img" />
                                    <a class="mini-link" href="@routes.Event.list">
                                        <span class="icon-holder icon-holder--small icon-holder--fill icon-holder--fill-local">
                                        @fragments.inlineIcon("arrow-right", List("inline-icon--small"))
                                        </span>
                                        All upcoming Local events
                                    </a>
                                </div>
                            }
                        </div>
                    </li>
                    <li class="grid__item">
                        <div class="brand-panel tone-border-masterclasses">
                            <h3 class="brand-panel__title">Guardian Masterclasses</h3>
                            <div class="brand-panel__description copy">
                                Courses and workshops taught by award-winning professionals, with discounts for Partners and Patrons
                            </div>
                            @for(img <- pageImages.find(_.name.contains("brand-masterclasses"))) {
                                <div class="brand-panel__media">
                                    <img src="@img.defaultImage" srcset="@img.srcset" sizes="33vw" alt="@img.altText" class="brand-panel__image responsive-img" />
                                    <a class="mini-link" href="@routes.Event.masterclasses">
                                        <span class="icon-holder icon-holder--small icon-holder--fill icon-holder--fill-masterclasses">
                                            @fragments.inlineIcon("arrow-right", List("inline-icon--small"))
                                        </span>
                                        All upcoming Masterclasses
                                    </a>
                                </div>
                            }
                        </div>
                    </li>
                </ul>

            </div>
        </div>
    </section>


    @* ===== A home for big ideas ===== *@
    <section class="page-slice section-big-ideas">
        <div class="listing listing--basic listing--padded l-constrained">
            <div class="listing__content">
                <ul class="grid grid--2up">
                    <li class="grid__item">
                        @for(img <- pageImages.find(_.name.contains("space"))) {
                            <img src="@img.defaultImage" srcset="@img.srcset" sizes="33vw" alt="@img.altText" class="responsive-img" />
                        }
                    </li>
                    <li class="grid__item">
                        <div class="big-ideas-intro">
                            <h4 class="big-ideas-intro__title">A home for big ideas</h4>
                            <div class="big-ideas-intro__content copy">
                                <p>In 2016, the Guardian will reopen the Midland Goods Shed at London’s King’s Cross to create a new kind of civic space.</p>
                                <p>
                                    The building will be a hub for big ideas and stimulating conversations.
                                    It will host events, activities and courses from Guardian Live and institutions we admire,
                                    as well as being the home of Guardian Membership.
                                </p>
                            </div>
                        </div>
                    </li>
                </ul>

                @fragments.common.jumpLink("Find out more", "#become-a-member")
            </div>
        </div>
    </section>


    @* ===== Become a member ===== *@
    <section class="page-slice tone-tint" id="become-a-member">
        <div class="listing listing--transparent listing--padded l-constrained" id="what-are-members">
            <div class="listing__lead-in">
                <h3 class="h-intro h-intro--capitalize">Become a Member</h3>
            </div>
            <div class="listing__content">
                <p class="become-intro">
                    Make the connection.<br/>
                    Become a Guardian Member.
                </p>

                <div class="comparison-group">
                    <div class="comparison-group__bookend">
                        <div class="comparison-group__bookend__column">
                            @comparisonHeader(Tier.Partner)
                        </div>
                        <div class="comparison-group__bookend__column">
                            @comparisonHeader(Tier.Supporter)
                        </div>
                    </div>
                    <div class="comparison-group__table">
                        <table class="comparison-table">
                            <thead class="u-h">
                                <th>Description</th>
                                <th>Partner</th>
                                <th>Supporter</th>
                            </thead>
                            <tbody class="comparison-table__body">
                                @for(comparisonItem <- comparisonItems) {
                                    <tr class="comparison-table__row">
                                        <td class="comparison-table__description">
                                            <div class="comparison-table__description">
                                                @comparisonItem.description
                                            </div>
                                        </td>
                                        <td class="comparison-table__tier">
                                            <div class="comparison-table__tier__inner">
                                                @fragments.common.checkmark(comparisonItem.availablePartner)
                                            </div>
                                        </td>
                                        <td class="comparison-table__tier">
                                            <div class="comparison-table__tier__inner">
                                                @fragments.common.checkmark(comparisonItem.availableSupporter)
                                            </div>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                    <div class="comparison-group__bookend">
                        <div class="comparison-group__bookend__column">
                            <div class="comparison-action">
                                <a class="action action--no-icon" href="@routes.Joiner.joinPaid(Tier.Supporter)">
                                    Become a Supporter
                                    @fragments.actionIcon("arrow-right")
                                </a>
                            </div>
                        </div>
                        <div class="comparison-group__bookend__column">
                            <div class="comparison-action">
                                <a class="action action--no-icon" href="@routes.Joiner.joinPaid(Tier.Partner)">
                                    Become a Partner
                                    @fragments.actionIcon("arrow-right")
                                </a>
                            </div>
                        </div>
                        <div class="comparison-group__bookend__trail">
                            @fragments.tier.friendTeaser()
                        </div>
                    </div>
                </div>

                @for(image <- pageImages.find(_.name.contains("space"))) {
                    @fragments.promos.promoTertiary(
                        "Become a Patron",
                        "Patrons play a vital role to keep the Guardian fearless, progressive and free from interference",
                        "Learn more about Patrons",
                        routes.Info.patron.toString,
                        image,
                        Some("tone-patron")
                    )
                }
            </div>
        </div>
    </section>

}
