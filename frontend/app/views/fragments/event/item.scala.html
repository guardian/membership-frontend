@(event: model.RichEvent.RichEvent, showPrice: Boolean = true)

@import scala.util.Random
@import views.support.Dates.dateRange

<a href="@routes.Event.details(event.slug)" class="event-item@if(!showPrice) { event-item--shallow} @if(event.isBookable){ qa-available-event-item} event-item--clippath-@Random.nextInt(2)">
    @for(img <- event.imgOpt) {
        <div class="event-item__media">
            @fragments.event.image(img, sizes=Some("(min-width: 739px) 33.3vw, (min-width: 479px) 50vw, 100vw"))
        </div>
    }
    <div class="event-item__content">
        <div class="event-item__meta">
            @fragments.event.itemMetaTitle(event)
            <time class="event-item__time" datetime="@event.start">
                @dateRange(event.startAndEnd)
            </time>
            @for(addressDefaultLine <- event.venue.addressDefaultLine) {
                <div class="event-item__location">
                    @addressDefaultLine
                </div>
            }
            @if(showPrice) {
                <div class="event-item__footer">
                    @fragments.pricing.priceInfoEvent(event)
                    <span class="event-item__action">
                        @fragments.inlineIcon("arrow-circle", List("icon-inline--brand", "icon-inline--large"))
                    </span>
                </div>
            }
        </div>
    </div>
</a>
